<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel - Hotel San Eduardo</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
</head>
<body>
  <!-- ======= SIDEBAR ======= -->
  <aside class="sidebar">
    <div class="logo">
      <h2>ğŸ¨ Hotel San Eduardo</h2>
    </div>

    <nav class="menu">
      <a href="#" class="active">ğŸ  Dashboard</a>
      <a href="#" id="linkReservas">ğŸ“… Reservas</a>
      <a href="#" id="linkClientes">ğŸ‘¥ Clientes</a>
      <a href="#" id="linkHabitaciones" class="admin-only">ğŸ›ï¸ Habitaciones</a>
      <a href="#" id="linkReportes" class="admin-only">ğŸ“Š Reportes</a>
      <a href="#" id="linkSeguridad" class="admin-only">ğŸ” Seguridad</a>
      <a href="#" id="linkServicios" class="recep-only">ğŸ§¾ Servicios Adicionales</a>
    </nav>

    <div class="logout">
      <a href="{{ url_for('usuarios.cerrar_sesion') }}">ğŸšª Cerrar sesiÃ³n</a>
    </div>
  </aside>

  <!-- ======= CONTENIDO PRINCIPAL ======= -->
  <main class="main-content">
    <header>
      <h1>Bienvenido/a, {{ session['nombre'] }}</h1>
      <p>Rol actual: 
        {% if session['rol'] == 1 %}
          <span class="rol admin">Administrador</span>
        {% elif session['rol'] == 2 %}
          <span class="rol recep">Recepcionista</span>
        {% endif %}
      </p>
    </header>

    <section class="dashboard-section">
      <div class="card">
        <h3>Reservas activas</h3>
        <p>{{ reservas_activas }}</p>
      </div>
      <div class="card">
        <h3>Habitaciones disponibles</h3>
        <p>{{ habitaciones_disponibles }}</p>
      </div>
      <div class="card">
        <h3>Clientes registrados</h3>
        <p>{{ clientes_registrados }}</p>
      </div>
      {% if session['rol'] == 1 %}
      <div class="card admin-only">
        <h3>Ingresos totales</h3>
        <p>S/ {{ ingresos_totales }}</p>
      </div>
      {% endif %}
    </section>
  </main>

  <script>
    // Ocultar opciones segÃºn rol (seguridad visual en frontend)
    const rol = {{ session['rol'] }};
    if (rol === 1) {
      document.querySelectorAll('.recep-only').forEach(e => e.style.display = 'none');
    } else if (rol === 2) {
      document.querySelectorAll('.admin-only').forEach(e => e.style.display = 'none');
    }
  </script>
</body>
</html>
