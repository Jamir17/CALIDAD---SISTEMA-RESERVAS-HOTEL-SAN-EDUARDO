{% extends "principal.html" %}

{% block title %}Panel de Mantenimiento{% endblock %}

{% block extra_css %}
<style>
    .maintenance-container {
        padding: 20px;
        background-color: #f9fafb;
    }
    .maintenance-header h1 {
        font-size: 2rem;
        font-weight: 700;
        color: #111827;
    }
    .maintenance-header p { color: #6b7280; }
    .tabs-nav .nav-link {
        border: none;
        border-bottom: 2px solid transparent;
        color: #6b7280;
        font-weight: 500;
    }
    .tabs-nav .nav-link.active {
        color: #3b82f6;
        border-bottom-color: #3b82f6;
    }
    .stat-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1.5rem;
        margin-bottom: 1.5rem;
    }
    .stat-card-m {
        background-color: white;
        border-radius: 0.5rem;
        padding: 1.5rem;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .stat-card-m .stat-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }
    .stat-card-m h3 {
        font-size: 0.875rem;
        font-weight: 500;
        color: #6b7280;
    }
    .stat-card-m .stat-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: #111827;
    }
    .stat-card-m .stat-footer {
        font-size: 0.75rem;
        margin-top: 0.5rem;
    }
    .card-m {
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        margin-bottom: 1.5rem;
    }
    .card-m-header {
        padding: 1.5rem;
        border-bottom: 1px solid #e5e7eb;
    }
    .card-m-header h2 {
        font-size: 1.25rem;
        font-weight: 700;
        color: #111827;
        margin: 0;
    }
    .card-m-header p {
        font-size: 0.875rem;
        color: #6b7280;
        margin-top: 0.25rem;
    }
    .card-m-body { padding: 1.5rem; }
    .task-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem;
        background-color: #f9fafb;
        border-radius: 0.5rem;
        margin-bottom: 1rem;
    }
    .task-item h3 { font-size: 1rem; font-weight: 600; margin: 0; }
    .task-item p { font-size: 0.875rem; color: #6b7280; margin: 0.25rem 0 0; }
    .task-item .task-meta { font-size: 0.75rem; color: #6b7280; margin-top: 0.5rem; }
    .btn-start-task {
        background-color: #3b82f6;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 0.375rem;
        font-weight: 500;
        cursor: pointer;
    }
    .progress-bar-container {
        width: 100%;
        background-color: #e5e7eb;
        border-radius: 9999px;
        height: 0.5rem;
    }
    .progress-bar {
        height: 0.5rem;
        border-radius: 9999px;
    }
    .alert-card {
        display: flex;
        align-items: flex-start;
        padding: 0.75rem;
        border-radius: 0.5rem;
        margin-bottom: 0.75rem;
    }
    .alert-card.warning { background-color: #fef3c7; }
    .alert-card.info { background-color: #dbeafe; }
    .alert-card .alert-icon { margin-right: 0.75rem; flex-shrink: 0; }
    .alert-card .alert-title { font-weight: 600; }
    .alert-card .alert-text { font-size: 0.875rem; }
</style>
{% endblock %}

{% block content %}
<div class="maintenance-container">
    <div class="maintenance-header">
        <h1>Panel de Mantenimiento</h1>
        <p>Gestión y monitoreo del sistema del hotel.</p>
    </div>

    <!-- Pestañas de Navegación -->
    <ul class="nav tabs-nav" id="maintenanceTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button" role="tab">Visión general</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="tasks-tab" data-bs-toggle="tab" data-bs-target="#tasks" type="button" role="tab">Tareas programadas</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="health-tab" data-bs-toggle="tab" data-bs-target="#health" type="button" role="tab">Salud del sistema</button>
        </li>
    </ul>

    <!-- Contenido de las Pestañas -->
    <div class="tab-content" id="maintenanceTabsContent">
        <!-- Visión General -->
        <div class="tab-pane fade show active" id="overview" role="tabpanel">
            <div class="stat-grid">
                <div class="stat-card-m">
                    <div class="stat-header"><h3>Tiempo de actividad</h3></div>
                    <div class="stat-value">99.98%</div>
                    <div class="stat-footer text-success">Estable</div>
                </div>
                <div class="stat-card-m">
                    <div class="stat-header"><h3>Uso de memoria</h3></div>
                    <div class="stat-value">65%</div>
                    <div class="stat-footer text-warning">Normal</div>
                </div>
                <div class="stat-card-m">
                    <div class="stat-header"><h3>Uso de CPU</h3></div>
                    <div class="stat-value">42%</div>
                    <div class="stat-footer text-success">Óptimo</div>
                </div>
                <div class="stat-card-m">
                    <div class="stat-header"><h3>Último respaldo</h3></div>
                    <div class="stat-value">20/11/2025 02:00</div>
                    <div class="stat-footer text-success">Reciente</div>
                </div>
            </div>

            <div class="card-m">
                <div class="card-m-header">
                    <h2>Registro de mantenimiento</h2>
                    <p>Historial de actividades de mantenimiento.</p>
                </div>
                <div class="card-m-body">
                    <table class="table table-hover">
                        <thead>
                            <tr><th>Fecha</th><th>Tipo</th><th>Estado</th><th>Duración</th><th>Acciones</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2025-11-20 14:30</td>
                                <td>Actualización de seguridad</td>
                                <td><span class="badge bg-success">Completado</span></td>
                                <td>15 min</td>
                                <td><a href="#" class="btn btn-sm btn-outline-primary">Ver detalles</a></td>
                            </tr>
                            <tr>
                                <td>2025-11-18 09:15</td>
                                <td>Optimización de BD</td>
                                <td><span class="badge bg-success">Completado</span></td>
                                <td>45 min</td>
                                <td><a href="#" class="btn btn-sm btn-outline-primary">Ver detalles</a></td>
                            </tr>
                            <tr>
                                <td>2025-11-15 22:00</td>
                                <td>Mantenimiento programado</td>
                                <td><span class="badge bg-warning text-dark">En progreso</span></td>
                                <td>30 min</td>
                                <td><a href="#" class="btn btn-sm btn-outline-primary">Ver detalles</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tareas Programadas -->
        <div class="tab-pane fade" id="tasks" role="tabpanel">
            <div class="card-m">
                <div class="card-m-header">
                    <h2>Tareas programadas</h2>
                    <p>Lista de tareas de mantenimiento recurrentes.</p>
                </div>
                <div class="card-m-body">
                    <div class="task-item">
                        <div>
                            <h3>Actualizaciones de seguridad</h3>
                            <p>Aplicar parches y actualizaciones de dependencias.</p>
                            <div class="task-meta">Frecuencia: Semanal | Próximo: 2025-11-27</div>
                        </div>
                        <button class="btn-start-task">Iniciar</button>
                    </div>
                    <div class="task-item">
                        <div>
                            <h3>Optimización de base de datos</h3>
                            <p>Reindexación, limpieza y optimización de consultas.</p>
                            <div class="task-meta">Frecuencia: Mensual | Próximo: 2025-12-05</div>
                        </div>
                        <button class="btn-start-task">Iniciar</button>
                    </div>
                    <div class="task-item">
                        <div>
                            <h3>Respaldo de datos</h3>
                            <p>Creación de copias de seguridad completas del sistema.</p>
                            <div class="task-meta">Frecuencia: Diario | Próximo: 2025-11-21</div>
                        </div>
                        <button class="btn-start-task">Iniciar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Salud del Sistema -->
        <div class="tab-pane fade" id="health" role="tabpanel">
            <div class="card-m">
                <div class="card-m-header">
                    <h2>Salud del sistema</h2>
                    <p>Monitoreo en tiempo real del estado del sistema.</p>
                </div>
                <div class="card-m-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>Indicadores clave</h5>
                            <div class="mb-3">
                                <div class="d-flex justify-content-between"><span>Uso de memoria</span><span>65%</span></div>
                                <div class="progress-bar-container"><div class="progress-bar bg-primary" style="width: 65%;"></div></div>
                            </div>
                            <div class="mb-3">
                                <div class="d-flex justify-content-between"><span>Uso de CPU</span><span>42%</span></div>
                                <div class="progress-bar-container"><div class="progress-bar bg-success" style="width: 42%;"></div></div>
                            </div>
                            <div class="mb-3">
                                <div class="d-flex justify-content-between"><span>Base de datos</span><span>2.3 GB</span></div>
                                <div class="progress-bar-container"><div class="progress-bar bg-info" style="width: 70%;"></div></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h5>Alertas</h5>
                            <div class="alert-card warning">
                                <div class="alert-icon">⚠️</div>
                                <div>
                                    <div class="alert-title">Advertencia</div>
                                    <div class="alert-text">La base de datos está alcanzando el 70% de su capacidad.</div>
                                </div>
                            </div>
                            <div class="alert-card info">
                                <div class="alert-icon">ℹ️</div>
                                <div>
                                    <div class="alert-title">Información</div>
                                    <div class="alert-text">Todos los servicios están funcionando normalmente.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}