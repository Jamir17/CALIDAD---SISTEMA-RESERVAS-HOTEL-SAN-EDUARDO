<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel - Hotel San Eduardo</title>

    <!-- CSS base -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/principal.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/panel_checkinout.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/panel_reservas.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reserva_cliente.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/respaldo.css') }}">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">


</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Hotel San Eduardo</h2>

        {% if session['rol'] == 1 %}
            <a href="{{ url_for('admin.dashboard') }}" class="active">Menu principal</a>
            <a href="{{ url_for('reservas_admin.panel_reservas') }}">Reservas</a>
            <a href="{{ url_for('checkinout.panel_checkinout') }}">Check-in/out</a>

            <a href="#" onclick="toggleRolesMenu()">Gestión de roles ▼</a>
            <ul id="submenuRoles" style="display:none; list-style:none; padding-left:15px;">
                <li><a href="{{ url_for('gestion_usuarios_roles.listar_usuarios_y_roles') }}">Asignar roles a usuarios</a></li>
                <li><a href="{{ url_for('gestion_roles.listar_roles') }}">Administrar roles</a></li>
            </ul>

            <a href="{{ url_for('reservas_cliente.historial_reservas_cliente') }}">Historial de reservas por cliente</a>
            <a href="#">Reportes</a>
            <a href="#">Seguridad</a>
            <a href="{{ url_for('respaldo.panel_respaldo') }}">Respaldos</a>

        {% elif session['rol'] == 2 %}
            <a href="{{ url_for('reservas_admin.panel_reservas') }}">Reservas</a>
            <a href="{{ url_for('checkinout.panel_checkinout') }}">Check-in/out</a>
            <a href="{{ url_for('reservas_cliente.historial_reservas_cliente') }}">Historial de reservas por cliente</a>
        {% endif %}
    </div>

    <!-- Contenido principal -->
    <div class="content">
        <div class="topbar">
            <div class="user-info">
                Bienvenido, {{ session.get('nombre', 'Usuario') }}
            </div>
            <a href="{{ url_for('usuarios.logout') }}" class="logout-btn">Cerrar sesión</a>
        </div>

        <div class="mt-4">
            {% block content %}
            {% endblock %}
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    {% if 'checkinout' in request.path %}
    <script src="{{ url_for('static', filename='js/panel_checkinout.js') }}"></script>
    {% endif %}

    <script>
    function toggleRolesMenu() {
        const menu = document.getElementById('submenuRoles');
        menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
    }
    </script>

</body>
</html>
